<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package allows to cluster the Swiss Pension Register by using the Kamila clustering method.">
<title>Clustering the Swiss Pension Register • rrclust</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Clustering the Swiss Pension Register">
<meta property="og:description" content="This package allows to cluster the Swiss Pension Register by using the Kamila clustering method.">
<meta property="og:image" content="https://asam-group.github.io/rrclust/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rrclust</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5.9009</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/howto.html">howto</a>
    <a class="dropdown-item" href="articles/setup.html">setup</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/asam-group/rrclust/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="rrclust-">rrclust <a class="anchor" aria-label="anchor" href="#rrclust-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of rrclust is to cluster the Swiss Pension Register (CCO/FSIO) using the <a href="https://github.com/ahfoss/kamila" class="external-link"><code>kamila</code></a> R package.</p>
<p>The anonymous data of the Swiss Pension Register (CCO/FSIO) are typically used to estimate and project (in the short, middle and long term) the revenues and the expenditures of the Old-Age and Survivors’ Insurance (OASI). In this perspective, it is essential to have a clear look at the register’s main statistical features. To better understand it and benefit more from its richness, we propose analysing the raw data by an appropriate clustering method.</p>
<p>We face three main difficulties:</p>
<ol style="list-style-type: decimal">
<li><p>As not only continuous but also nominal or categorical variables structure the register, we have to choose a clustering method that considers any types of variables;</p></li>
<li><p>The a priori number of clusters should be in the first step determined, and thus the question of how to fix it is essential;</p></li>
<li><p>The method should run over big data.</p></li>
</ol>
<p>Recently, <a href="https://doi.org/10.1007/s10994-016-5575-7" class="external-link">A. Foss et al. (2016)</a> and <a href="https://doi.org/10.18637/jss.v083.i13" class="external-link">A. H. Foss and Markatou (2018)</a> proposed the kamila Method (KAy-means for MIxed LArge data), which is specifically designed to manage a clustering process for mixed distributions. Furthermore, a simple rewriting of the kamila’s algorithm permits an easy implementation in a map-reduce framework like Hadoop, thus being run on very large data sets. On the other hand, <a href="https://www.jstor.org/stable/27594130" class="external-link">Tibshirani and Walther (2005)</a> advocate the use of the “Prediction Strength” as a measure to find the optimal number of clusters.</p>
<p>We applied the kamila clustering method on the more than 2 000 000 observations of the Swiss Pension Register (CCO/FSIO) data. The technique allows us to determine the optimal number of clusters. On this basis, we can analyse the partition of our data. Indeed, each cluster is then analysed, and its principal features are described. As a result, it becomes possible to recognise the similarities and dissimilarities between the OASI pensioners subgroups according to their socio-demographic characteristics. These pieces of information are crucial to predicting revenues and expenditures of the OASI.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of rrclust from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"asam-group/rrclust"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the rrclust project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="related-paper">Related Paper<a class="anchor" aria-label="anchor" href="#related-paper"></a>
</h2>
<p>One needs to have the proper Swiss Pension Register (CCO/FSIO) data in order to run this code. Since this register is not public, you can find how it is used and learn more about the results in this <a href="https://folia.unifr.ch/unifr/documents/324081" class="external-link">Working Paper</a>.</p>
</div>
<div class="section level2">
<h2 id="future-work">Future work<a class="anchor" aria-label="anchor" href="#future-work"></a>
</h2>
<p>The next step is to implement some classification methods in the package <a href="https://github.com/asam-group/rrml" class="external-link">rrml</a> which will be applied to the kamila-clustered Swiss Pension Register (CCO/FSIO) thanks to the package <a href="https://github.com/asam-group/rrclust" class="external-link">rrclust</a>.</p>
</div>
<div class="section level2">
<h2 id="flow">Flow<a class="anchor" aria-label="anchor" href="#flow"></a>
</h2>
<p>The global workflow of the rrclust package is depicted in the figure shown below.</p>
<p>The green ellipses correspond to modules defined as functions accepting only a certain class of inputs, namely <code>tibbles</code>.</p>
<p>These <code>tibbles</code> can enter the modules individually or in the form of lists of <code>tibbles</code>, namely <code>tidylists</code>, containing the <code>tibbles</code> in a <code>tidy</code> form needed by the modules.</p>
<p>The red rectangles give the name of the <code>tibbles</code> which either are inputs or outputs of the modules. Therefore, they are the outputs of a transformation of the initial <code>tibbles</code>.</p>
<p>The blue rectangles depict the top level outputs, such as <code>LOG</code> indicating the run <code>log</code> including the rrclust package version, the <code>dplyr</code> library version, the date and the time of the code execution.</p>
<p>The arrows indicate the direction of the process. If there are two arrows between an ellipse and a rectangle in both directions, this means that an input has been renamed especially for this module and is given back as an output. This is the case of <code>FULL_CONT_DF</code> and <code>FULL_CATEG_DF</code> which are renamed <code>tibbles</code> of resp. <code>CONT_DF</code> and <code>CATEG_DF</code> and which contains the outcome variables <code>aadr</code> and <code>monthly_pension</code> opposite to their siblings.</p>
<p><img src="reference/figures/rrclust_flow.png" align="center"></p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Since the Swiss Pension Register (CCO/FSIO) data are not public, we offer two examples with randomly generated data which are used to demonstrate the workflow of this package.</p>
<div class="section level3">
<h3 id="example-step-by-step-with-randomly-generated-data">Example step by step with randomly generated data<a class="anchor" aria-label="anchor" href="#example-step-by-step-with-randomly-generated-data"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># enumerate required packages and test if they are installed</span></span>
<span><span class="va">required_pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"data.table"</span>, <span class="st">"DiagrammeRsvg"</span>, <span class="st">"dplyr"</span>, <span class="st">"fs"</span>, <span class="st">"magick"</span>, <span class="st">"memoise"</span>,</span>
<span>  <span class="st">"rlang"</span>, <span class="st">"rrclust"</span>, <span class="st">"rstudioapi"</span>, <span class="st">"rsvg"</span>, <span class="st">"shiny"</span>, <span class="st">"tidyr"</span>, <span class="st">"utils"</span></span>
<span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">pkg</span> <span class="kw">in</span> <span class="va">required_pkgs</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># load rrclust</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/asam-group/rrclust" class="external-link">rrclust</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># directory for the output</span></span>
<span><span class="va">path_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate random demo data</span></span>
<span><span class="va">path_random_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gen_demo_data.html">gen_demo_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read the demo data</span></span>
<span><span class="va">demo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tidylist_read.html">tidylist_read</a></span><span class="op">(</span><span class="va">path_random_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># relative path to the params container</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"inst"</span>, <span class="st">"extdata"</span>, <span class="st">"params_kamila_large"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read PARAM_GLOBAL</span></span>
<span><span class="va">tl_PARAM_GLOBAL</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/param_tidylist_read.html">param_tidylist_read</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># replace empty variable with the temporary path</span></span>
<span><span class="va">tl_PARAM_GLOBAL</span><span class="op">$</span><span class="va">PARAM_GLOBAL</span><span class="op">[[</span><span class="st">"path_data"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">dirname</a></span><span class="op">(</span><span class="va">path_random_data</span><span class="op">)</span>, <span class="st">"/all"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">PARAM_GLOBAL</span> <span class="op">&lt;-</span> <span class="va">tl_PARAM_GLOBAL</span><span class="op">$</span><span class="va">PARAM_GLOBAL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_all</a></span><span class="op">(</span><span class="va">as.character</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"key"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"value"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># rewrite PARAM_GLOBAL with the demo data path</span></span>
<span><span class="fu"><a href="reference/tidylist_write.html">tidylist_write</a></span><span class="op">(</span><span class="fu"><a href="reference/tidylist.html">tidylist</a></span><span class="op">(</span><span class="va">PARAM_GLOBAL</span><span class="op">)</span>, path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># input</span></span>
<span><span class="va">tl_inp_kamila</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mod_inp_kamila.html">mod_inp_kamila</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">path</span>, method_name <span class="op">=</span> <span class="st">"kamila"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># computations</span></span>
<span><span class="va">tl_out_kamila</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/wrap_kamila.html">wrap_kamila</a></span><span class="op">(</span>tl_inp_kamila <span class="op">=</span> <span class="va">tl_inp_kamila</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># output</span></span>
<span><span class="va">path_out_identifier</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mod_out_kamila.html">mod_out_kamila</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="va">path</span>,</span>
<span>  path_out <span class="op">=</span> <span class="va">path_out</span>,</span>
<span>  tl_inp_kamila <span class="op">=</span> <span class="va">tl_inp_kamila</span>,</span>
<span>  tl_out_kamila <span class="op">=</span> <span class="va">tl_out_kamila</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># write the csv files</span></span>
<span><span class="fu"><a href="reference/tidylist_write.html">tidylist_write</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">tl_out_kamila</span>, <span class="fu"><a href="reference/mod_log.html">mod_log</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="va">path_out_identifier</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># store parameters (as a reference)</span></span>
<span><span class="fu"><a href="reference/copy_param.html">copy_param</a></span><span class="op">(</span><span class="va">path</span>, <span class="va">path_out_identifier</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># access the output</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">path_out_identifier</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-in-one-step-with-randomly-generated-data">Example in one step with randomly generated data<a class="anchor" aria-label="anchor" href="#example-in-one-step-with-randomly-generated-data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># enumerate required packages and test if they are installed</span></span>
<span><span class="va">required_pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"data.table"</span>, <span class="st">"DiagrammeRsvg"</span>, <span class="st">"dplyr"</span>, <span class="st">"fs"</span>, <span class="st">"magick"</span>, <span class="st">"memoise"</span>,</span>
<span>  <span class="st">"rlang"</span>, <span class="st">"rrclust"</span>, <span class="st">"rstudioapi"</span>, <span class="st">"rsvg"</span>, <span class="st">"shiny"</span>, <span class="st">"tidyr"</span>, <span class="st">"utils"</span></span>
<span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">pkg</span> <span class="kw">in</span> <span class="va">required_pkgs</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">pkg</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># load rrclust</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/asam-group/rrclust" class="external-link">rrclust</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># directory for the output</span></span>
<span><span class="va">path_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate random demo data</span></span>
<span><span class="va">path_random_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gen_demo_data.html">gen_demo_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read the demo data</span></span>
<span><span class="va">demo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tidylist_read.html">tidylist_read</a></span><span class="op">(</span><span class="va">path_random_data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># relative path to the params container</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"inst"</span>, <span class="st">"extdata"</span>, <span class="st">"params_kamila_large"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read PARAM_GLOBAL</span></span>
<span><span class="va">tl_PARAM_GLOBAL</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/param_tidylist_read.html">param_tidylist_read</a></span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># replace empty variable with the temporary path</span></span>
<span><span class="va">tl_PARAM_GLOBAL</span><span class="op">$</span><span class="va">PARAM_GLOBAL</span><span class="op">[[</span><span class="st">"path_data"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html" class="external-link">str_remove</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">dirname</a></span><span class="op">(</span><span class="va">path_random_data</span><span class="op">)</span>, <span class="st">"/all"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">PARAM_GLOBAL</span> <span class="op">&lt;-</span> <span class="va">tl_PARAM_GLOBAL</span><span class="op">$</span><span class="va">PARAM_GLOBAL</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_all</a></span><span class="op">(</span><span class="va">as.character</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>    <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    names_to <span class="op">=</span> <span class="st">"key"</span>,</span>
<span>    values_to <span class="op">=</span> <span class="st">"value"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># rewrite PARAM_GLOBAL with the demo data path</span></span>
<span><span class="fu"><a href="reference/tidylist_write.html">tidylist_write</a></span><span class="op">(</span><span class="fu"><a href="reference/tidylist.html">tidylist</a></span><span class="op">(</span><span class="va">PARAM_GLOBAL</span><span class="op">)</span>, path <span class="op">=</span> <span class="va">path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># execute the whole workflow</span></span>
<span><span class="fu">rrclust</span><span class="fu">::</span><span class="fu"><a href="reference/run_kamila.html">run_kamila</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">path</span>, path_out <span class="op">=</span> <span class="va">path_out</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># access the output</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">path_out</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>You can see the results in the CSV file named <code>KM_RES_FINAL.csv</code>. The best number of clusters, i.e. the parameter <code>kstar</code>, is given by the value of the variable <code>num_clust</code>.</p>
<p>The CSV file <code>KM_RES.csv</code> shows you all the prediction strengths values for each number of clusters for which you ran the program (see parameter <code>numberofclusters</code> in <code>PARAM_KAMILA.csv</code>) and for each iteration.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/asam-group/rrclust/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/asam-group/rrclust/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rrclust</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Layal Christine Lettry <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Layal Christine Lettry.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
